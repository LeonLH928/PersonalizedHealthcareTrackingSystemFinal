<Page x:Class="PersonalizedHealthcareTrackingSystemFinal.Views.PatientView.PatientMedicationSchedulePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:PersonalizedHealthcareTrackingSystemFinal.Views.PatientView"
      xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
      xmlns:fa="http://schemas.fontawesome.io/icons/"
      xmlns:sys="clr-namespace:System;assembly=mscorlib"
      xmlns:converters="clr-namespace:PersonalizedHealthcareTrackingSystemFinal.Helpers"
      mc:Ignorable="d" 
      d:DesignHeight="800" d:DesignWidth="1200"
      Title="PatientMedicationSchedulePage">

    <Page.Resources>
        <converters:AdherenceToQuantityPerDayConverter x:Key="AdherenceToQuantityPerDayConverter"/>
        <converters:LocalToUtcDisplayConverter x:Key="LocalToUtcDisplayConverter"/>
        <converters:CollectionToVisibilityConverter x:Key="CollectionToVisibilityConverter"/>
        <converters:EmptyCollectionToVisibilityConverter x:Key="EmptyCollectionToVisibilityConverter"/>
    </Page.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Style="{StaticResource PageHeaderBorderStyle}" Padding="32,24">
            <StackPanel>
                <TextBlock Text="Virtual Medication Assistant" FontSize="28" FontWeight="Bold" Foreground="{StaticResource DarkText}"/>
                <TextBlock Text="{Binding LatestPrescription.PrescriptionID, StringFormat={}Automated schedule based on your latest prescription (#{0}).}" 
                           Style="{StaticResource SecondaryTextTextBlockStyle}"/>
            </StackPanel>
        </Border>

        <ScrollViewer Grid.Row="1" Padding="32">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="32"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0">

                    <Border Style="{StaticResource CardStyle}">
                        <StackPanel HorizontalAlignment="Center">
                            <TextBlock Text="Today's Progress" FontWeight="Bold" FontSize="18" HorizontalAlignment="Center" Margin="0,0,0,24"/>
                            <Grid Width="200" Height="200" Margin="0,0,0,20">
                                <lvc:PieChart Series="{Binding Series}" 
                                      InitialRotation="-90"
                                      TooltipPosition="Hidden" 
                                      LegendPosition="Hidden"/>

                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock
                                        Foreground="#0090D8" 
                                        FontSize="40" 
                                        FontWeight="Bold" 
                                        TextAlignment="Center">
                                        <TextBlock.Text>
                                            <MultiBinding StringFormat="{}{0}/{1}">
                                                <Binding Path="CompletedDoses"/>
                                                <Binding Path="MaxDoses"/>
                                            </MultiBinding>
                                        </TextBlock.Text>
                                    </TextBlock>

                                    <TextBlock 
                                        Text="Doses Taken" 
                                        Style="{StaticResource SecondaryTextTextBlockStyle}"/>
                                </StackPanel>
                            </Grid>

                            <TextBlock Text="Take your medicine!" FontWeight="SemiBold" Foreground="{StaticResource SuccessColor}" HorizontalAlignment="Center"
                                       Style="{StaticResource CustomBaseTextBlockStyle}"/>
                            <TextBlock Text="{Binding NextDose, StringFormat={}Next dose at: {0:HH:mm}}" Foreground="{StaticResource TextSecondary}" HorizontalAlignment="Center" Margin="0,4,0,0"
                                       Style="{StaticResource SecondaryTextTextBlockStyle}"/>
                        </StackPanel>
                    </Border>

                    <Border Width="450" Style="{StaticResource CardStyle}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Grid Margin="0,0,0,25">
                                <TextBlock Text="{Binding CurrentMonthYear}"
                                           Style="{StaticResource CustomBaseTextBlockStyle}"
                                           FontWeight="Bold" FontSize="18"/>

                                <TextBlock Text="Today"
                                           FontWeight="Bold" FontSize="18"
                                           Foreground="#0078D4"
                                           Style="{StaticResource CustomBaseTextBlockStyle}"
                                           HorizontalAlignment="Right"/>
                            </Grid>

                            <ItemsControl Grid.Row="1" 
                                          ItemsSource="{Binding CurrentWeek}">

                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Columns="7" Rows="1"/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>

                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0" 
                                                       Text="{Binding DayName}" 
                                                       Style="{StaticResource DayHeaderStyle}"
                                                       HorizontalAlignment="Center"
                                                       Margin="0,0,0,15"/>

                                            <Border x:Name="DayCircle"
                                                    Grid.Row="1"
                                                    Width="40" Height="40"
                                                    CornerRadius="20">

                                                <TextBlock x:Name="DayText"
                                                           Text="{Binding DayNumber}" 
                                                           Style="{StaticResource DateTextStyle}"
                                                           HorizontalAlignment="Center"
                                                           VerticalAlignment="Center"/>
                                            </Border>
                                        </Grid>

                                        <DataTemplate.Triggers>
                                            <DataTrigger Binding="{Binding IsToday}" Value="True">
                                                <Setter TargetName="DayCircle" Property="Background" Value="#0078D4"/>
                                                <Setter TargetName="DayText" Property="Foreground" Value="White"/>
                                                <Setter TargetName="DayText" Property="FontWeight" Value="Bold"/>
                                            </DataTrigger>
                                        </DataTemplate.Triggers>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Grid>
                    </Border>
                </StackPanel>

                <Grid Grid.Column="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" Width="2" HorizontalAlignment="Center" Background="{StaticResource LightBorder}" Margin="0,20,0,20"/>

                    <StackPanel Grid.ColumnSpan="2">

                        <StackPanel Margin="0,0,0,32">
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Border Width="40" Height="40" CornerRadius="20" Background="White" BorderBrush="{StaticResource SuccessColor}" BorderThickness="2" HorizontalAlignment="Center">
                                    <TextBlock Text="🌅" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18"/>
                                </Border>
                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock Text="Morning" FontSize="18" FontWeight="Bold"/>
                                    <TextBlock Text="Start from 08:00" Style="{StaticResource SecondaryTextTextBlockStyle}"/>
                                </StackPanel>
                            </Grid>

                            <ItemsControl ItemsSource="{Binding MorningAdherences}"
                                          Visibility="{Binding MorningAdherences,
                                                       Converter={StaticResource CollectionToVisibilityConverter}}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Style="{StaticResource TakeMedicationBorderStyle}">
                                            <DockPanel>
                                                <Button DockPanel.Dock="Right" 
                                                        Style="{StaticResource TakenMedicationButtonStyle}"
                                                        Command="{Binding DataContext.TakeMedicineButtonCommand,
                                                                  RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                        CommandParameter="{Binding}"/>
                                                <StackPanel Orientation="Horizontal">
                                                    <Border Style="{StaticResource DrugTakeMedicationTextBlockStyle}">
                                                        <TextBlock Text="💊" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20"/>
                                                    </Border>
                                                    <StackPanel VerticalAlignment="Center">
                                                        <TextBlock Text="{Binding PrescriptionItem.Medication.Name}" 
                                                                   FontWeight="Bold" 
                                                                   FontSize="16"/>
                                                        <Border Background="{StaticResource BgLight}" CornerRadius="10" Padding="8,2" HorizontalAlignment="Left" Margin="0,4,0,0">
                                                            <TextBlock 
                                                                FontSize="12" 
                                                                Foreground="{StaticResource TextSecondary}">
                                                                <TextBlock.Text>
                                                                    <MultiBinding StringFormat="{}{0} {1}s • {2}">
                                                                        <Binding Converter="{StaticResource AdherenceToQuantityPerDayConverter}"/>
                                                                        <Binding Path="PrescriptionItem.Medication.Form"/>
                                                                        <Binding Path="PrescriptionItem.Instruction"/>
                                                                    </MultiBinding>
                                                                </TextBlock.Text>
                                                            </TextBlock>
                                                        </Border>
                                                    </StackPanel>
                                                </StackPanel>
                                            </DockPanel>
                                        </Border>

                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            <TextBlock
                                Text="You don't have any current medicine here."
                                Margin="50,0,0,0"
                                Style="{StaticResource SecondaryTextTextBlockStyle}"
                                Visibility="{Binding MorningAdherences,
                                             Converter={StaticResource EmptyCollectionToVisibilityConverter}}"/>

                        </StackPanel>

                        <StackPanel Margin="0,0,0,32">
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Border Width="40" Height="40" CornerRadius="20" Background="White" BorderBrush="{StaticResource StatusPendingBackground}" BorderThickness="2" HorizontalAlignment="Center">
                                    <TextBlock Text="☀️" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18"/>
                                </Border>
                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="Afternoon" FontSize="18" FontWeight="Bold"/>
                                    </StackPanel>
                                    <TextBlock Text="Start from 13:00" Style="{StaticResource SecondaryTextTextBlockStyle}"/>
                                </StackPanel>
                            </Grid>

                            <ItemsControl ItemsSource="{Binding AfternoonAdherences}"
                                          Visibility="{Binding AfternoonAdherences,
                                                       Converter={StaticResource CollectionToVisibilityConverter}}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Style="{StaticResource TakeMedicationBorderStyle}">
                                            <DockPanel>
                                                <Button DockPanel.Dock="Right" Style="{StaticResource TakenMedicationButtonStyle}"
                                                        Command="{Binding DataContext.TakeMedicineButtonCommand,
                                                                  RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                        CommandParameter="{Binding}"/>
                                                <StackPanel Orientation="Horizontal">
                                                    <Border Style="{StaticResource DrugTakeMedicationTextBlockStyle}">
                                                        <TextBlock Text="💊" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20"/>
                                                    </Border>
                                                    <StackPanel VerticalAlignment="Center">
                                                        <TextBlock Text="{Binding PrescriptionItem.Medication.Name}" FontWeight="Bold" FontSize="16"/>
                                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                                            <Border Background="{StaticResource BgLight}" CornerRadius="10" Padding="8,2" HorizontalAlignment="Left" Margin="0,4,0,0">
                                                                <TextBlock 
                                                                FontSize="12" 
                                                                Foreground="{StaticResource TextSecondary}">
                                                                    <TextBlock.Text>
                                                                        <MultiBinding StringFormat="{}{0} {1}s • {2}">
                                                                            <Binding Converter="{StaticResource AdherenceToQuantityPerDayConverter}"/>
                                                                            <Binding Path="PrescriptionItem.Medication.Form"/>
                                                                            <Binding Path="PrescriptionItem.Instruction"/>
                                                                        </MultiBinding>
                                                                    </TextBlock.Text>
                                                                </TextBlock>
                                                            </Border>
                                                        </StackPanel>
                                                    </StackPanel>
                                                </StackPanel>
                                            </DockPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            <TextBlock
                                Text="You don't have any current medicine here."
                                Margin="50,0,0,0"
                                Style="{StaticResource SecondaryTextTextBlockStyle}"
                                Visibility="{Binding AfternoonAdherences,
                                             Converter={StaticResource EmptyCollectionToVisibilityConverter}}"/>

                        </StackPanel>

                        <StackPanel Margin="0,0,0,32">
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Border Width="40" Height="40" CornerRadius="20" Background="White" BorderBrush="{StaticResource PrimaryColor}" BorderThickness="2" HorizontalAlignment="Center">
                                    <TextBlock Text="&#x1F307;" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18"/>
                                </Border>
                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock Text="Evening" FontSize="18" FontWeight="Bold"/>
                                    <TextBlock Text="Start from 18:00" Style="{StaticResource SecondaryTextTextBlockStyle}"/>
                                </StackPanel>
                            </Grid>
                            <ItemsControl ItemsSource="{Binding EveningAdherences}"
                                          Visibility="{Binding EveningAdherences,
                                                       Converter={StaticResource CollectionToVisibilityConverter}}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Style="{StaticResource TakeMedicationBorderStyle}">
                                            <DockPanel>
                                                <Button DockPanel.Dock="Right" Style="{StaticResource TakenMedicationButtonStyle}"
                                                        Command="{Binding DataContext.TakeMedicineButtonCommand,
                                                                  RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                        CommandParameter="{Binding}"/>
                                                <StackPanel Orientation="Horizontal">
                                                    <Border Style="{StaticResource DrugTakeMedicationTextBlockStyle}">
                                                        <TextBlock Text="💊" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20"/>
                                                    </Border>
                                                    <StackPanel VerticalAlignment="Center">
                                                        <TextBlock Text="{Binding PrescriptionItem.Medication.Name}" FontWeight="Bold" FontSize="16"/>
                                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                                            <Border Background="{StaticResource BgLight}" CornerRadius="10" Padding="8,2" HorizontalAlignment="Left" Margin="0,4,0,0">
                                                                <TextBlock 
                                                                FontSize="12" 
                                                                Foreground="{StaticResource TextSecondary}">
                                                                    <TextBlock.Text>
                                                                        <MultiBinding StringFormat="{}{0} {1}s • {2}">
                                                                            <Binding Converter="{StaticResource AdherenceToQuantityPerDayConverter}"/>
                                                                            <Binding Path="PrescriptionItem.Medication.Form"/>
                                                                            <Binding Path="PrescriptionItem.Instruction"/>
                                                                        </MultiBinding>
                                                                    </TextBlock.Text>
                                                                </TextBlock>
                                                            </Border>
                                                        </StackPanel>
                                                    </StackPanel>
                                                </StackPanel>
                                            </DockPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            <TextBlock
                                Text="You don't have any current medicine here."
                                Margin="50,0,0,0"
                                Style="{StaticResource SecondaryTextTextBlockStyle}"
                                Visibility="{Binding EveningAdherences,
                                             Converter={StaticResource EmptyCollectionToVisibilityConverter}}"/>
                        </StackPanel>
                        <StackPanel Margin="0,0,0,32">
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Border Width="40" Height="40" CornerRadius="20" Background="White" BorderBrush="#0C090A" BorderThickness="2" HorizontalAlignment="Center">
                                    <TextBlock Text="🌙" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18"/>
                                </Border>
                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock Text="Night" FontSize="18" FontWeight="Bold"/>
                                    <TextBlock Text="Start from 21:00" Style="{StaticResource SecondaryTextTextBlockStyle}"/>
                                </StackPanel>
                            </Grid>
                            <ItemsControl ItemsSource="{Binding NightAdherences}"
                                          Visibility="{Binding NightAdherences,
                                                       Converter={StaticResource CollectionToVisibilityConverter}}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Style="{StaticResource TakeMedicationBorderStyle}">
                                            <DockPanel>
                                                <Button DockPanel.Dock="Right" Style="{StaticResource TakenMedicationButtonStyle}"
                                                        Command="{Binding DataContext.TakeMedicineButtonCommand,
                                                                  RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                        CommandParameter="{Binding}"/>
                                                <StackPanel Orientation="Horizontal">
                                                    <Border Style="{StaticResource DrugTakeMedicationTextBlockStyle}">
                                                        <TextBlock Text="💊" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20"/>
                                                    </Border>
                                                    <StackPanel VerticalAlignment="Center">
                                                        <TextBlock Text="{Binding PrescriptionItem.Medication.Name}" FontWeight="Bold" FontSize="16"/>
                                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                                            <Border Background="{StaticResource BgLight}" CornerRadius="10" Padding="8,2" HorizontalAlignment="Left" Margin="0,4,0,0">
                                                                <TextBlock 
                                                                    FontSize="12" 
                                                                    Foreground="{StaticResource TextSecondary}">
                                                                    <TextBlock.Text>
                                                                        <MultiBinding StringFormat="{}{0} {1}s • {2}">
                                                                            <Binding Converter="{StaticResource AdherenceToQuantityPerDayConverter}"/>
                                                                            <Binding Path="PrescriptionItem.Medication.Form"/>
                                                                            <Binding Path="PrescriptionItem.Instruction"/>
                                                                        </MultiBinding>
                                                                    </TextBlock.Text>
                                                                </TextBlock>
                                                            </Border>
                                                        </StackPanel>
                                                    </StackPanel>
                                                </StackPanel>
                                            </DockPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            <TextBlock
                                Text="You don't have any current medicine here."
                                Margin="50,0,0,0"
                                Style="{StaticResource SecondaryTextTextBlockStyle}"
                                Visibility="{Binding NightAdherences,
                                             Converter={StaticResource EmptyCollectionToVisibilityConverter}}"/>
                        </StackPanel>
                        <StackPanel Margin="0,0,0,32">
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Border Width="40" Height="40" CornerRadius="20" BorderThickness="2" HorizontalAlignment="Center"
                                        Background="{StaticResource DangerBg}"
                                        BorderBrush="{StaticResource StatTagTextBlock}">
                                    <TextBlock Text="&#x26A0;" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18"
                                               Foreground="{StaticResource DangerColor}"/>
                                </Border>
                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock Text="Take as needed" FontSize="18" FontWeight="Bold"/>
                                </StackPanel>
                            </Grid>
                            <ItemsControl ItemsSource="{Binding AsNeededAdherences}"
                                          Visibility="{Binding AsNeededAdherences,
                                                       Converter={StaticResource CollectionToVisibilityConverter}}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Style="{StaticResource TakeMedicationBorderStyle}">
                                            <DockPanel>
                                                <StackPanel Orientation="Horizontal">
                                                    <Border Style="{StaticResource DrugTakeMedicationTextBlockStyle}">
                                                        <TextBlock Text="💊" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20"/>
                                                    </Border>
                                                    <StackPanel VerticalAlignment="Center">
                                                        <TextBlock Text="{Binding PrescriptionItem.Medication.Name}" FontWeight="Bold" FontSize="16"/>
                                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                                            <Border Background="{StaticResource BgLight}" CornerRadius="10" Padding="8,2" HorizontalAlignment="Left" Margin="0,4,0,0">
                                                                <TextBlock 
                                                                    FontSize="12" 
                                                                    Foreground="{StaticResource TextSecondary}">
                                                                    <TextBlock.Text>
                                                                        <MultiBinding StringFormat="{}Total of {0} {1}s • {2}">
                                                                            <Binding Path="PrescriptionItem.Quantity"/>
                                                                            <Binding Path="PrescriptionItem.Medication.Form"/>
                                                                            <Binding Path="PrescriptionItem.Instruction"/>
                                                                        </MultiBinding>
                                                                    </TextBlock.Text>
                                                                </TextBlock>
                                                            </Border>
                                                        </StackPanel>
                                                    </StackPanel>
                                                </StackPanel>
                                            </DockPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            <TextBlock
                                Text="You don't have any current medicine here."
                                Margin="50,0,0,0"
                                Style="{StaticResource SecondaryTextTextBlockStyle}"
                                Visibility="{Binding AsNeededAdherences,
                                             Converter={StaticResource EmptyCollectionToVisibilityConverter}}"/>
                        </StackPanel>

                    </StackPanel>
                </Grid>
            </Grid>
        </ScrollViewer>
        <Grid Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}"
              Grid.RowSpan="2" 
              Background="#80FFFFFF" 
              d:IsHidden="False">
            <fa:ImageAwesome 
                Icon="Spinner" 
                Spin="True" 
                Height="48" 
                Width="48"/>
        </Grid>
    </Grid>
</Page>
