<Window x:Class="PersonalizedHealthcareTrackingSystemFinal.Views.PatientView.PatientBookingConfirmationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:fa="http://schemas.fontawesome.io/icons/"
        xmlns:local="clr-namespace:PersonalizedHealthcareTrackingSystemFinal.Views.PatientView"
        mc:Ignorable="d"
        Height="800" Width="500"
        WindowStartupLocation="CenterScreen"
        Style="{StaticResource WindowPopup}">
    <Grid>
        <Border Background="{StaticResource BgWhite}"
                Width="500"
                Padding="32"
                VerticalAlignment="Center"
                HorizontalAlignment="Center">

            <StackPanel>
                <TextBlock Text="Confirm Appointment"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="{StaticResource DarkText}"
                               Margin="0,0,0,8"/>

                <TextBlock Text="Please review the details before confirming."
                               Style="{StaticResource SecondaryTextTextBlockStyle}"
                               Margin="0,0,0,24"/>

                <!-- Booking Summary -->
                <Border Background="{StaticResource BgLight}"
                            CornerRadius="12"
                            Padding="20"
                            Margin="0,0,0,24">
                    <StackPanel>

                        <Grid Margin="0,0,0,12">
                            <TextBlock Text="Doctor:" 
                                       Style="{StaticResource SecondaryTextTextBlockStyle}"/>
                            <TextBlock 
                                    Style="{StaticResource CustomBaseTextBlockStyle}"
                                    HorizontalAlignment="Right"
                                    FontWeight="SemiBold"
                                    Text="{Binding DoctorFullName}"/>
                        </Grid>

                        <Border
                                Style="{StaticResource Line}"
                                Margin="0,0,0,12"
                                BorderBrush="#94a3b8"/>

                        <Grid Margin="0,0,0,12">
                            <TextBlock Text="Date:" 
                                           Style="{StaticResource SecondaryTextTextBlockStyle}"/>
                            <TextBlock 
                                           Style="{StaticResource CustomBaseTextBlockStyle}"
                                           HorizontalAlignment="Right"
                                           FontWeight="SemiBold">
                                <TextBlock.Text>
                                    <Binding Path="SelectedDate"
                                             StringFormat="{}{0:ddd, dd/MM/yyyy}"/>
                                </TextBlock.Text>
                            </TextBlock>
                        </Grid>

                        <Border
                                Style="{StaticResource Line}"
                                Margin="0,0,0,12"
                                BorderBrush="#94a3b8"/>

                        <Grid>
                            <TextBlock Text="Time:" 
                                       Style="{StaticResource SecondaryTextTextBlockStyle}"/>
                            <TextBlock Text="{Binding SelectedSlot}"
                                       FontWeight="Bold"
                                       FontSize="18"
                                       Foreground="{StaticResource PrimaryColor}"
                                       HorizontalAlignment="Right"/>
                        </Grid>

                    </StackPanel>
                </Border>

                <!-- Textbox Reason -->
                <StackPanel Margin="0,0,0,24">
                    <TextBlock Text="Chief complaint (Required)"
                                Style="{StaticResource FormLabel}"/>
                    <TextBox
                            Tag="Describe your main reason for the visit."
                            Height="200"
                            Text="{Binding ChiefComplaint}"
                            Style="{StaticResource CurrentExamTextTextBoxStyle}"
                            Margin="0,0,0,20"/>
                </StackPanel>
                
                <!-- Textbox Reason -->
                <StackPanel Margin="0,0,0,24">
                    <TextBlock Text="Note (Optional)"
                                Style="{StaticResource FormLabel}"/>
                    <TextBox
                            Tag="Note."
                            Height="50"
                            Text="{Binding Note}"
                            Style="{StaticResource CurrentExamTextTextBoxStyle}"
                            Margin="0,0,0,20"/>
                </StackPanel>

                <!-- Buttons -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="12"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <Button Grid.Column="0" Content="Cancel"
                            Style="{StaticResource CancelOutlineButtonStyle}"
                            Command="{Binding CloseWindowButtonCommand}"/>

                    <Button Grid.Column="2"
                            Background="{StaticResource PrimaryColor}"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="16"
                            FontSize="16"
                            FontWeight="Bold"
                            Cursor="Hand"
                            Style="{StaticResource PrimaryButtonStyle}"
                            Content="✅ Confirm appointment"
                            Command="{Binding ConfirmAppointmentCommand}"/>

                </Grid>
            </StackPanel>
        </Border>
        <Grid Visibility="{Binding IsLoading, 
                            Converter={StaticResource BoolToVisibilityConverter}}"
              Grid.RowSpan="3" 
              Background="#80FFFFFF" 
              d:IsHidden="False">
            <fa:ImageAwesome 
                Icon="Spinner" 
                Spin="True" 
                Height="48" 
                Width="48"/>
        </Grid>
    </Grid>
</Window>
